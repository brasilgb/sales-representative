import{x as y,r as C,j as e,Q as S,t as w}from"./app-BIymsFZc.js";import{B as F}from"./app-sidebar-header-DCFGoulW.js";import{I as z}from"./icon-CiYLE4BG.js";import{B as m}from"./button-CV8QToP2.js";import{I as i}from"./input-bTCjC07O.js";import{L as t}from"./label-DQLLD4RS.js";import{T as B}from"./textarea-C803Bm5T.js";import{m as E,a as L,b as I,u as k}from"./mask-lU1_jkkq.js";import{I as c}from"./input-error-DDUqiciH.js";import{S as p}from"./react-select.esm-BjGBygS6.js";import{s as P}from"./dataSelect-BpWrWvbW.js";import{A as _}from"./admin-sidebar-layout-DaPbE3vE.js";import{B as A}from"./building-Dis4oI1I.js";import{A as T}from"./arrow-left-D5alVPnj.js";import{S as D}from"./save-DYT5yPIA.js";import"./utils-BxcdOfJX.js";import"./index-2_enmDD0.js";import"./index-B6m4D2v-.js";import"./index-bHRXChaa.js";import"./index-HxXDAniE.js";import"./floating-ui.utils.dom-kEtt1HkL.js";import"./index-Bq5qCQgY.js";import"./tslib.es6-M_FJ09fS.js";import"./index-D7guN4g1.js";import"./user-cog-DiiIQsLB.js";const M=[{title:"Dashboard",href:route("admin.dashboard")},{title:"Empresas",href:route("admin.tenants.index")},{title:"Adicionar",href:"#"}];function me({plans:h}){const x=h.map(s=>({value:s.id,label:s.name})),{data:r,setData:a,post:g,processing:j,reset:u,errors:n}=y({company:"",cnpj:"",phone:"",whatsapp:"",email:"",zip_code:"",state:"",city:"",district:"",street:"",complement:"",number:"",plan:"",status:"",payment:"",observations:""}),v=async s=>{s.preventDefault(),g(route("admin.tenants.store"),{onSuccess:()=>u()})},f=s=>{const l=k(s);fetch(`https://viacep.com.br/ws/${l}/json/`).then(o=>o.json()).then(o=>{a(d=>({...d,state:o.uf})),a(d=>({...d,city:o.localidade})),a(d=>({...d,district:o.bairro})),a(d=>({...d,street:o.logradouro})),a(d=>({...d,complement:o.complemento}))}).catch(o=>console.error(o))},b=s=>{a("plan",s==null?void 0:s.value)},N=s=>{a("status",s==null?void 0:s.value)};return C.useEffect(()=>{},[]),e.jsxs(_,{children:[e.jsx(S,{title:"Empresas"}),e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{iconNode:A,className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Empresas"})]}),e.jsx("div",{children:e.jsx(F,{breadcrumbs:M})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("div",{children:e.jsx(m,{variant:"default",asChild:!0,children:e.jsxs(w,{href:route("admin.tenants.index"),children:[e.jsx(T,{"h-4":!0,"w-4":!0}),e.jsx("span",{children:"Voltar"})]})})}),e.jsx("div",{})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"border rounded-lg p-2",children:e.jsxs("form",{onSubmit:v,className:"space-y-8",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"company",children:"Razão social"}),e.jsx(i,{type:"text",id:"company",value:r.company,onChange:s=>a("company",s.target.value)}),n.company&&e.jsx("div",{className:"text-red-500 text-sm",children:n.company})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(t,{htmlFor:"cnpj",children:"CPF/CNPJ"}),e.jsx(i,{type:"text",id:"cnpj",value:E(r.cnpj),onChange:s=>a("cnpj",s.target.value),maxLength:18}),n.cnpj&&e.jsx("div",{className:"text-red-500 text-sm",children:n.cnpj})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(t,{htmlFor:"email",children:"E-mail"}),e.jsx(i,{type:"text",id:"email",value:r.email,onChange:s=>a("email",s.target.value)}),n.email&&e.jsx("div",{className:"text-red-500 text-sm",children:n.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"phone",children:"Telefone"}),e.jsx(i,{type:"text",id:"phone",value:L(r.phone),onChange:s=>a("phone",s.target.value),maxLength:15}),n.phone&&e.jsx("div",{className:"text-red-500 text-sm",children:n.phone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"whatsapp",children:"Whatsapp"}),e.jsx(i,{type:"text",id:"whatsapp",value:r.whatsapp,onChange:s=>a("whatsapp",s.target.value),maxLength:13})]})]}),e.jsxs("div",{className:"grid md:grid-cols-6 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"zip_code",children:"CEP"}),e.jsx(i,{type:"text",id:"zip_code",value:I(r.zip_code),onChange:s=>a("zip_code",s.target.value),onBlur:s=>f(s.target.value),maxLength:9})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"state",children:"UF"}),e.jsx(i,{type:"text",id:"state",value:r.state,onChange:s=>a("state",s.target.value)}),n.state&&e.jsx("div",{children:n.state})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(t,{htmlFor:"city",children:"Cidade"}),e.jsx(i,{type:"text",id:"city",value:r.city,onChange:s=>a("city",s.target.value)})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(t,{htmlFor:"district",children:"Bairro"}),e.jsx(i,{type:"text",id:"district",value:r.district,onChange:s=>a("district",s.target.value)})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(t,{htmlFor:"street",children:"Endereço"}),e.jsx(i,{type:"text",id:"street",value:r.street,onChange:s=>a("street",s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"complement",children:"Complemento"}),e.jsx(i,{type:"text",id:"complement",value:r.complement,onChange:s=>a("complement",s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"number",children:"Número"}),e.jsx(i,{type:"text",id:"number",value:r.number,onChange:s=>a("number",s.target.value)})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(t,{htmlFor:"plan_id",children:"Plano"}),e.jsx(p,{options:x,onChange:b,placeholder:"Selecione o plano",className:"shadow-xs p-0 border text-gray-700 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-9",styles:{control:(s,l)=>({...s,fontSize:"14px",boxShadow:"none",border:"none",background:"transparent",paddingBottom:"2px"}),dropdownIndicator:s=>({...s}),menuList:s=>({...s,fontSize:"14px"})}}),e.jsx(c,{className:"mt-2",message:n.plan})]}),e.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[e.jsx(t,{htmlFor:"status",children:"Status"}),e.jsx(p,{options:P,onChange:N,placeholder:"Selecione o status",className:"shadow-xs p-0 border text-gray-700 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-9",styles:{control:(s,l)=>({...s,fontSize:"14px",boxShadow:"none",border:"none",background:"transparent",paddingBottom:"2px"}),dropdownIndicator:s=>({...s}),menuList:s=>({...s,fontSize:"14px"})}}),e.jsx(c,{className:"mt-2",message:n.status})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"observations",children:"Observações"}),e.jsx(B,{id:"observations",value:r.observations,onChange:s=>a("observations",s.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(m,{type:"submit",disabled:j,children:[e.jsx(D,{}),"Salvar"]})})]})})})]})}export{me as default};
